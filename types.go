package fifd

type Property struct {
	StringOffset   int
	ComponentIndex int
	SubIndex       int
	// HeaderCount      int
	// HeaderFirstIndex int
}

type Node struct {
	UnmatchedNodeOffset int32
	FirstIndex          int16
	LastIndex           int16
	Length              int
	HashesCount         int32
	Modulo              uint32
	Hashes              []NodeHash
}

type NodeHash struct {
	HashCode   uint32
	NodeOffset int32
}

/**
 * The prime number used by the Rabin-Karp rolling hash method.
 * https://en.wikipedia.org/wiki/Rabin%E2%80%93Karp_algorithm
 */
const rkPrime = 997

var POWERS [129]uint32 = [129]uint32{
	0,
	997,
	994009,
	991026973,
	211414001,
	326361493,
	3259861321,
	3086461261,
	2005293281,
	2117608517,
	2426749113,
	1402278013,
	2206807761,
	1164082165,
	948748585,
	1009534125,
	1483175361,
	1257085093,
	3478354585,
	1880913373,
	2664891825,
	2607360597,
	1083301129,
	2014434317,
	2641286817,
	548004101,
	899242105,
	3191181117,
	3331774609,
	1769565365,
	3320077545,
	2992494445,
	2809658241,
	910589285,
	1619417689,
	3946699933,
	669790065,
	2060763925,
	1587265737,
	1955974861,
	191784033,
	2230119877,
	2931425337,
	2053299709,
	2735376977,
	4161580405,
	157255849,
	2165258797,
	2689438017,
	1310110245,
	509856281,
	1520571229,
	4181027121,
	2365762517,
	728183945,
	149920141,
	3441492513,
	3784133253,
	1799567353,
	3167288509,
	985680913,
	3471326773,
	3464119401,
	573336813,
	386152193,
	2741647077,
	1822935513,
	695540253,
	1963897585,
	3795772565,
	519059529,
	2106274893,
	4012027873,
	1377236805,
	3010527161,
	3608406909,
	2694061521,
	1624776437,
	699437097,
	1554083757,
	3233279169,
	2353859493,
	1745770905,
	1071837405,
	3470003377,
	2144693589,
	3660762121,
	3352600333,
	1057975713,
	2534798341,
	1753175929,
	4159679037,
	2556559249,
	1973964725,
	947809257,
	73024109,
	4085559937,
	1674260581,
	2790488409,
	3273103261,
	3403773553,
	538068501,
	3878350793,
	1245174221,
	193149793,
	3591782597,
	3299491641,
	3943184637,
	1460007249,
	3928281205,
	3781154729,
	3124946221,
	1720092737,
	1240507685,
	4130547993,
	3577679453,
	2123558961,
	4064374485,
	2027201417,
	2485183629,
	3826915617,
	1503911301,
	455980793,
	3641284541,
	1113322257,
	1880727861,
	2479936361,
	2890356717,
	4057558529,
}
